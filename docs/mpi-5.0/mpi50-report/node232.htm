<!DOCTYPE html>
<html lang=en>
<head>
<!-- This file was generated by tohtml from chap-topol/topol-rendered -->
<!-- with the command
tohtml -default -numbers -dosnl -htables -quietlatex -allgif -endpage mpi5-forum-tail.htm -Wnoredef --mpidoc --latexpgm pdflatex --indexfile mpi50-report-html.idx --lstlisting -basedef mpi5defs.txt -o mpi50-report.tex mpi-reporthtml.tex 
-->
<title>Partitioning of Cartesian Structures</title>
</head>
<body style="background-color:#FFFFFF">
<hr><h2><span id="Node232">9.5.7. Partitioning of Cartesian Structures</span></h2>
<a href="node231.htm#Node231"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node225.htm#Node225"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node233.htm#Node233"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node225.htm#Node225"> Topology Constructors</a>
<b>Next: </b><a href="node233.htm#Node233"> Low-Level Topology Functions</a>
<b>Previous: </b><a href="node231.htm#Node231"> Cartesian Shift Coordinates</a>
<p>
  
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_CART_SUB(<span style="white-space:nowrap">comm</span>, <span style="white-space:nowrap">remain_dims</span>, <span style="white-space:nowrap">newcomm</span>)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> IN</span> comm</TD><TD>communicator with associated Cartesian topology (handle)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> IN</span> remain_dims</TD><TD>the <font face="sans-serif"> i</font>-th entry of <font face="sans-serif"> remain_dims</font> specifies whether the <font face="sans-serif"> i</font>-th dimension is kept in the subgrid (<font face="sans-serif"> true</font>) or is dropped (<font face="sans-serif"> false</font>) (array of logicals)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> OUT</span> newcomm</TD><TD>new communicator with associated Cartesian topology containing the subgrid that includes the calling <font face="sans-serif"> MPI</font> process (handle)</TD></TR>  
</TABLE>  
  <b> C binding</b><br>  <tt> int MPI_Cart_sub(MPI_Comm comm, const int remain_dims[], MPI_Comm *newcomm) <br></tt>  
  <b> Fortran 2008 binding</b><br>  <tt> MPI_Cart_sub(comm, remain_dims, newcomm, ierror) <br> TYPE(MPI_Comm), INTENT(IN) :: <span style="white-space:nowrap">comm</span><br>LOGICAL, INTENT(IN) :: <span style="white-space:nowrap">remain_dims(*)</span><br>TYPE(MPI_Comm), INTENT(OUT) :: <span style="white-space:nowrap">newcomm</span><br>INTEGER, OPTIONAL, INTENT(OUT) :: <span style="white-space:nowrap">ierror</span> <br></tt>  
  <b> Fortran binding</b><br>  <tt> MPI_CART_SUB(COMM, REMAIN_DIMS, NEWCOMM, IERROR) <br> INTEGER <span style="white-space:nowrap">COMM</span>, <span style="white-space:nowrap">NEWCOMM</span>, <span style="white-space:nowrap">IERROR</span><br>LOGICAL <span style="white-space:nowrap">REMAIN_DIMS(*)</span> <br></tt>  
<P> 
<font face="sans-serif"> MPI_CART_SUB</font> can be used to partition the  
group associated with a communicator that has an associated Cartesian topology  
into subgroups that form lower-dimensional Cartesian  
subgrids, and to create for each subgroup a communicator with the associated  
subgrid Cartesian topology.  
The topologies of the new communicators describe the subgrids.  
The number of dimensions of the subgrids is the number of remaining dimensions, i.e., the number of <font face="sans-serif"> true</font> values in <font face="sans-serif"> remain_dims</font>.  
The numbers of <font face="sans-serif"> MPI</font> processes in each coordinate direction of the subgrids are the remaining numbers of <font face="sans-serif"> MPI</font> processes in each coordinate direction of the grid associated with the original communicator, i.e., the values of the original grid dimensions for which the corresponding entry in <font face="sans-serif"> remain_dims</font> is <font face="sans-serif"> true</font>.  
The periodicity for the remaining dimensions in the new communicator is preserved from the original communicator.  
If all entries in <font face="sans-serif"> remain_dims</font> are <font face="sans-serif"> false</font> or <font face="sans-serif"> comm</font> is already associated  
with a zero-dimensional Cartesian topology then <font face="sans-serif"> newcomm</font> is associated  
with a zero-dimensional Cartesian topology.   
(This function is closely related to  
<font face="sans-serif"> MPI_COMM_SPLIT</font>.)  
<P> 
<br><b> Example</b>  
  
Creation of nonoverlapping Cartesian subcommunicators with <font face="sans-serif"> MPI_CART_SUB</font>.  
<P> 
Assume that <font face="sans-serif"> MPI_Cart_create(<i>...</i>, comm)</font> has defined a  
<i>(2 &times; 3 &times; 4)</i> grid. Let <font face="sans-serif"> remain_dims</font><font face="sans-serif">  = (true, false, true)</font>.  
Then a call to  
<P><img width=484 height=23 src="img36.gif" alt="Image file"><P>
 will create three communicators each with eight <font face="sans-serif"> MPI</font> processes  
in a <i>2 &times; 4</i> Cartesian  
topology.  If <font face="sans-serif"> remain_dims</font><font face="sans-serif">  = (false, false, true)</font> then the call to  
<P><img width=484 height=23 src="img37.gif" alt="Image file"><P>
 will create six nonoverlapping  
communicators, each with four <font face="sans-serif"> MPI</font> processes,  
in a one-dimensional Cartesian topology.  
<P> 
  
<P> 

<P>
<hr>
<a href="node231.htm#Node231"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node225.htm#Node225"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node233.htm#Node233"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node225.htm#Node225"> Topology Constructors</a>
<b>Next: </b><a href="node233.htm#Node233"> Low-Level Topology Functions</a>
<b>Previous: </b><a href="node231.htm#Node231"> Cartesian Shift Coordinates</a>
<p>
<HR>
Return to <A HREF="node627.htm">MPI-5.0 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-5.0 of June 9, 2025<BR>
HTML Generated on March 2, 2025
</FONT>
</body>
</html>
