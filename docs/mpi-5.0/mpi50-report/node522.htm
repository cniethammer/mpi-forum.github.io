<!DOCTYPE html>
<html lang=en>
<head>
<!-- This file was generated by tohtml from chap-abi/abi-rendered -->
<!-- with the command
tohtml -default -numbers -dosnl -htables -quietlatex -allgif -endpage mpi5-forum-tail.htm -Wnoredef --mpidoc --latexpgm pdflatex --indexfile mpi50-report-html.idx --lstlisting -basedef mpi5defs.txt -o mpi50-report.tex mpi-reporthtml.tex 
-->
<title>Implementation Requirements</title>
</head>
<body style="background-color:#FFFFFF">
<hr><h1><span id="Node522">21.2. Implementation Requirements</span></h1>
<a href="node521.htm#Node521"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node520.htm#Node520"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node523.htm#Node523"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node520.htm#Node520"> Application Binary Interface (ABI)</a>
<b>Next: </b><a href="node523.htm#Node523"> The <font face="sans-serif"> MPI</font> ABI Header File and Shared Library</a>
<b>Previous: </b><a href="node521.htm#Node521"> Introduction</a>
<p>
Although the ABI is designed to be portable,  
there are platform and implementation designs where it cannot  
be supported, or is not useful to support.  
Furthermore, backwards compatibility of existing implementation  
ABIs is important to some users, and <font face="sans-serif"> MPI</font> implementations  
may continue to support these.  
<P> 
The standard ABI is intended to support systems with the  
following properties:  
<ul> 
     
<li>Dynamic shared libraries, which are loaded  
          by the operating system or by the application,  
          are supported.  
     
<li>The calling convention of C functions and the  
          sizes and alignment requirements of C standard  
          types are known constant properties of the system;  
          if the system possesses any means for changing  
          these, each choice constitutes a different,  
          incompatible system from the perspective of the <font face="sans-serif"> MPI</font> ABI.  
     
<li>Addresses can be represented as 32- or 64-bit signed  
          integers and have a direct relationship with C pointers;  
          segmented addressing is not supported.  
</ul> 
<br> 
  
The following query functions are provided to allow <font face="sans-serif"> MPI</font> applications, tools,   
and language bindings to determine whether an implementation provides ABI support  
and, if so, which version of the ABI is supported.  
<font face="sans-serif"> MPI_ABI_GET_VERSION</font>  
and <font face="sans-serif"> MPI_ABI_GET_INFO</font>,  
can be called at any time in an <font face="sans-serif"> MPI</font> program.  
These functions must always be thread-safe, as defined in  
Section <a href="node283.htm#Node283"><font face="sans-serif"> MPI</font> and Threads</a>.  
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_ABI_GET_VERSION(<span style="white-space:nowrap">abi_major</span>, <span style="white-space:nowrap">abi_minor</span>)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> OUT</span> abi_major</TD><TD>ABI major version (integer)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> OUT</span> abi_minor</TD><TD>ABI minor version (integer)</TD></TR>  
</TABLE>  
  <b> C binding</b><br>  <tt> int MPI_Abi_get_version(int *abi_major, int *abi_minor) <br></tt>  
  <b> Fortran 2008 binding</b><br>  <tt> MPI_Abi_get_version(abi_major, abi_minor, ierror) <br> INTEGER, INTENT(OUT) :: <span style="white-space:nowrap">abi_major</span>, <span style="white-space:nowrap">abi_minor</span><br>INTEGER, OPTIONAL, INTENT(OUT) :: <span style="white-space:nowrap">ierror</span> <br></tt>  
  <b> Fortran binding</b><br>  <tt> MPI_ABI_GET_VERSION(ABI_MAJOR, ABI_MINOR, IERROR) <br> <br>INTEGER <span style="white-space:nowrap">ABI_MAJOR</span>, <span style="white-space:nowrap">ABI_MINOR</span>, <span style="white-space:nowrap">IERROR</span> <br></tt>  
<P> 
<font face="sans-serif"> MPI_ABI_GET_VERSION</font> produces the standard ABI version, if supported.  
Otherwise, the values of the major and minor version are set to <i>-1</i>.  
The ABI version is independent of the <font face="sans-serif"> MPI</font> specification version.  
The major and minor version of the ABI associated with <font face="sans-serif"> MPI-5.0</font>  
are 1 and 0.  
<P> 
The ABI version macros <font face="sans-serif"> MPI_ABI_VERSION</font> and  
<font face="sans-serif"> MPI_ABI_SUBVERSION</font> are present in the <font face="sans-serif"> MPI</font> header and modules  
so that applications can check for consistency between the compilation  
environment and the properties of the implementation at runtime.  
<P> 
<br> 
<pre style="background-color:#EFEFEF"><tt><b>#define</b> <b>MPI_ABI_VERSION</b>    1 
<b>#define</b> <b>MPI_ABI_SUBVERSION</b> 0 
</tt></pre> 
  
<br> 
<pre style="background-color:#EFEFEF"><tt><b>INTEGER</b> :: <b>MPI_ABI_VERSION</b>, <b>MPI_ABI_SUBVERSION</b> 
PARAMETER (<b>MPI_ABI_VERSION</b>    = 1) 
PARAMETER (<b>MPI_ABI_SUBVERSION</b> = 0) 
</tt></pre> 
  
  
<P> 
Backwards-compatible changes, such as the addition of new handle types,  
will increment the minor version.  
Backwards-incompatible changes will increment the major version.  
The addition of new functions to the <font face="sans-serif"> MPI</font> API  
does not change the ABI version.  
The existing function <font face="sans-serif"> MPI_GET_VERSION</font> can be used  
to query the version of the API supported and whether certain  
functions are present in the <font face="sans-serif"> MPI</font> library.  
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_ABI_GET_INFO(<span style="white-space:nowrap">info</span>)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> OUT</span> info</TD><TD>ABI details info object (implementation-defined) (handle)</TD></TR>  
</TABLE>  
  <b> C binding</b><br>  <tt> int MPI_Abi_get_info(MPI_Info *info) <br></tt>  
  <b> Fortran 2008 binding</b><br>  <tt> MPI_Abi_get_info(info, ierror) <br> TYPE(MPI_Info), INTENT(OUT) :: <span style="white-space:nowrap">info</span><br>INTEGER, OPTIONAL, INTENT(OUT) :: <span style="white-space:nowrap">ierror</span> <br></tt>  
  <b> Fortran binding</b><br>  <tt> MPI_ABI_GET_INFO(INFO, IERROR) <br> <br>INTEGER <span style="white-space:nowrap">INFO</span>, <span style="white-space:nowrap">IERROR</span> <br></tt>  
<P> 
Implementations may provide additional information related to the ABI.  
The function <font face="sans-serif"> MPI_ABI_GET_INFO</font> allows the user to query  
this information via an info object.  
<P> 
The following keys are predefined for this object:  
<dl> 
 
<dt> 
<b><font face="sans-serif"> <span style="font-size:0.900em;"><tt>"</span></tt>mpi_aint_size<span style="font-size:0.900em;"><tt>"</span></tt></font>:</b><dd> 
 The size in bytes of <font face="sans-serif"> MPI_Aint</font>.  
 
<dt> 
<b><font face="sans-serif"> <span style="font-size:0.900em;"><tt>"</span></tt>mpi_count_size<span style="font-size:0.900em;"><tt>"</span></tt></font>:</b><dd> 
 The size in bytes of <font face="sans-serif"> MPI_Count</font>.  
 
<dt> 
<b><font face="sans-serif"> <span style="font-size:0.900em;"><tt>"</span></tt>mpi_offset_size<span style="font-size:0.900em;"><tt>"</span></tt></font>:</b><dd> 
 The size in bytes of <font face="sans-serif"> MPI_Offset</font>.  
</dl> 
<br> 
<ul> 
</ul> 

<P>
<hr>
<a href="node521.htm#Node521"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node520.htm#Node520"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node523.htm#Node523"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node520.htm#Node520"> Application Binary Interface (ABI)</a>
<b>Next: </b><a href="node523.htm#Node523"> The <font face="sans-serif"> MPI</font> ABI Header File and Shared Library</a>
<b>Previous: </b><a href="node521.htm#Node521"> Introduction</a>
<p>
<HR>
Return to <A HREF="node627.htm">MPI-5.0 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-5.0 of June 9, 2025<BR>
HTML Generated on March 2, 2025
</FONT>
</body>
</html>
