<!DOCTYPE html>
<html lang=en>
<head>
<!-- This file was generated by tohtml from chap-abi/abi-rendered -->
<!-- with the command
tohtml -default -numbers -dosnl -htables -quietlatex -allgif -endpage mpi5-forum-tail.htm -Wnoredef --mpidoc --latexpgm pdflatex --indexfile mpi50-report-html.idx --lstlisting -basedef mpi5defs.txt -o mpi50-report.tex mpi-reporthtml.tex 
-->
<title>The Fortran Application Binary Interface</title>
</head>
<body style="background-color:#FFFFFF">
<hr><h1><span id="Node531">21.4. The Fortran Application Binary Interface</span></h1>
<a href="node530.htm#Node530"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node520.htm#Node520"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node532.htm#Node532"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node520.htm#Node520"> Application Binary Interface (ABI)</a>
<b>Next: </b><a href="node532.htm#Node532"> Fortran Type Registration</a>
<b>Previous: </b><a href="node530.htm#Node530"> Calling Conventions and Binary Representations</a>
<p>
  
<P> 
Fortran support for the ABI is more complicated than C,  
because the sizes of <tt> INTEGER</tt>, <tt> REAL</tt>,  
and <tt> DOUBLE PRECISION</tt> can be changed with compiler options;  
there is no ABI constancy even with a single Fortran compiler and platform.  
This flexibility creates a difficult situation for the <font face="sans-serif"> MPI</font> C ABI  
because the functions defined in Section <a href="node509.htm#Node509">Transfer of Handles</a>  
and Section <a href="node510.htm#Node510">Status</a> in the <font face="sans-serif"> MPI</font> C API  
depend on the size of <tt> INTEGER</tt> via <font face="sans-serif"> MPI_Fint</font>.  
As a result, the functions defined in Section <a href="node509.htm#Node509">Transfer of Handles</a>  
and Section <a href="node510.htm#Node510">Status</a>   
as well as <font face="sans-serif"> MPI_F08_Status</font> are not part of this ABI.  
Instead, to support Fortran and other use cases where obtaining an  
integer associated with an <font face="sans-serif"> MPI</font> handle is necessary, new functions are  
added that do not depend on <font face="sans-serif"> MPI_Fint</font>.  
<P> 
<font face="sans-serif"> MPI</font> applications can discover the size of Fortran types such as  
<font face="sans-serif"> MPI_INTEGER</font> and <font face="sans-serif"> MPI_REAL</font> using <font face="sans-serif"> MPI_TYPE_SIZE</font>.  
Lack of support in the implementation for optional predefined datatypes  
is indicated when the type size returned is  
<font face="sans-serif"> MPI_UNDEFINED</font>.  
 
<br> 
<em> Rationale.</em>  
<P> 
Prior to the ABI, optional predefined datatypes were not present in the <font face="sans-serif"> MPI</font> header and modules.  
When absent, usage would generate compilation errors.  
The standard ABI must define a value for all predefined datatypes, including the optional ones.  
Therefore, the absence of optional datatypes must be detected at runtime.  
 (<em> End of rationale.</em>) <br> 
<ul> 
</ul> 

<P>
<hr>
<a href="node530.htm#Node530"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node520.htm#Node520"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node532.htm#Node532"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node520.htm#Node520"> Application Binary Interface (ABI)</a>
<b>Next: </b><a href="node532.htm#Node532"> Fortran Type Registration</a>
<b>Previous: </b><a href="node530.htm#Node530"> Calling Conventions and Binary Representations</a>
<p>
<HR>
Return to <A HREF="node627.htm">MPI-5.0 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-5.0 of June 9, 2025<BR>
HTML Generated on March 2, 2025
</FONT>
</body>
</html>
