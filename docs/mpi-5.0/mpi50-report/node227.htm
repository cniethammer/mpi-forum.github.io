<!DOCTYPE html>
<html lang=en>
<head>
<!-- This file was generated by tohtml from chap-topol/topol-rendered -->
<!-- with the command
tohtml -default -numbers -dosnl -htables -quietlatex -allgif -endpage mpi5-forum-tail.htm -Wnoredef --mpidoc --latexpgm pdflatex --indexfile mpi50-report-html.idx --lstlisting -basedef mpi5defs.txt -o mpi50-report.tex mpi-reporthtml.tex 
-->
<title>Cartesian Convenience Function: <font face="sans-serif"> MPI_DIMS_CREATE</font></title>
</head>
<body style="background-color:#FFFFFF">
<hr><h2><span id="Node227">9.5.2. Cartesian Convenience Function:  MPI_DIMS_CREATE</span></h2>
<a href="node226.htm#Node226"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node225.htm#Node225"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node228.htm#Node228"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node225.htm#Node225"> Topology Constructors</a>
<b>Next: </b><a href="node228.htm#Node228"> Graph Constructor</a>
<b>Previous: </b><a href="node226.htm#Node226"> Cartesian Constructor</a>
<p>
For Cartesian topologies, the function <font face="sans-serif"> MPI_DIMS_CREATE</font> helps the user  
select a balanced distribution of <font face="sans-serif"> MPI</font> processes per coordinate direction,  
depending on the number of <font face="sans-serif"> MPI</font> processes in the group to be balanced and optional  
constraints that can be specified by the user.  
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_DIMS_CREATE(<span style="white-space:nowrap">nnodes</span>, <span style="white-space:nowrap">ndims</span>, <span style="white-space:nowrap">dims</span>)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> IN</span> nnodes</TD><TD>number of nodes in a grid (integer)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> IN</span> ndims</TD><TD>number of Cartesian dimensions (integer)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> INOUT</span> dims</TD><TD>integer array of size <font face="sans-serif"> ndims</font> specifying the number of nodes in each dimension</TD></TR>  
</TABLE>  
  <b> C binding</b><br>  <tt> int MPI_Dims_create(int nnodes, int ndims, int dims[]) <br></tt>  
  <b> Fortran 2008 binding</b><br>  <tt> MPI_Dims_create(nnodes, ndims, dims, ierror) <br> INTEGER, INTENT(IN) :: <span style="white-space:nowrap">nnodes</span>, <span style="white-space:nowrap">ndims</span><br>INTEGER, INTENT(INOUT) :: <span style="white-space:nowrap">dims(ndims)</span><br>INTEGER, OPTIONAL, INTENT(OUT) :: <span style="white-space:nowrap">ierror</span> <br></tt>  
  <b> Fortran binding</b><br>  <tt> MPI_DIMS_CREATE(NNODES, NDIMS, DIMS, IERROR) <br> <br>INTEGER <span style="white-space:nowrap">NNODES</span>, <span style="white-space:nowrap">NDIMS</span>, <span style="white-space:nowrap">DIMS(*)</span>, <span style="white-space:nowrap">IERROR</span> <br></tt>  
<P> 
The entries in the array <font face="sans-serif"> dims</font> are set to describe a Cartesian grid  
with <font face="sans-serif"> ndims</font> dimensions and a total of <font face="sans-serif"> nnodes</font> nodes.  The  
dimensions are set to be as close to each other as possible, using an  
appropriate divisibility algorithm.  The caller may  
further constrain the operation of this routine by specifying elements  
of array <font face="sans-serif"> dims</font>. If <font face="sans-serif"> dims[i]</font> is set to a positive number, the  
routine will not modify the number of nodes in dimension <font face="sans-serif"> i</font>;  
only those entries where <font face="sans-serif"> dims[i]</font><font face="sans-serif">  = 0</font> are modified by the call.  
<P> 
Negative input values of <font face="sans-serif"> dims[i]</font> are erroneous.  
An error will occur if <font face="sans-serif"> nnodes</font> is not a multiple of  
<p><i>&prod;<SUB>i, <span style="font-family:sans-serif;"> <span style="font-size:0.700em;">dims</span></span>[i]&ne; 0</SUB> <span style="font-family:sans-serif;"> dims[<span style="font-style:italic;font-family:serif;">i</span>]</span>.</i><p><P> 
For <font face="sans-serif"> dims[i]</font> set by the call, <font face="sans-serif"> dims[i]</font> will be ordered in  
nonincreasing order.  Array <font face="sans-serif"> dims</font> is suitable for use as input to  
routine <font face="sans-serif"> MPI_CART_CREATE</font>.  <font face="sans-serif"> MPI_DIMS_CREATE</font> is local.  
If <font face="sans-serif"> ndims</font> is zero and <font face="sans-serif"> nnodes</font> is one, <font face="sans-serif"> MPI_DIMS_CREATE</font> returns <span style="font-size:0.900em;"><font face="sans-serif"> MPI_SUCCESS</span></font>.  
<P> 
<br><b> Example</b>  
  
The use of the array argument <font face="sans-serif"> dims</font> in <font face="sans-serif"> MPI_DIMS_CREATE</font>.  
  
<div style="text-align:center">  
<TABLE><TR><TD colspan="3" style="border-top:solid 1px;margin:0 0 0 0"></TD></TR> 
<TR><TD ALIGN="LEFT"><font face="sans-serif"> dims</font></TD><TD ALIGN="LEFT"> function call</TD><TD ALIGN="LEFT"><font face="sans-serif"> dims</font> </TD></TR> 
<TR><TD ALIGN="LEFT">  
before call</TD><TD ALIGN="LEFT"></TD><TD ALIGN="LEFT"> on return </TD></TR> 
<TR><TD colspan="3" style="border-top:solid 1px;margin:0 0 0 0"></TD></TR> 
<TR><TD ALIGN="LEFT">(0,0)</TD><TD ALIGN="LEFT"><font face="sans-serif"> MPI_DIMS_CREATE</font><tt>(6, 2, dims)</tt></TD><TD ALIGN="LEFT"> (3,2) </TD></TR> 
<TR><TD ALIGN="LEFT">  
(0,0)</TD><TD ALIGN="LEFT"><font face="sans-serif"> MPI_DIMS_CREATE</font><tt>(7, 2, dims)</tt></TD><TD ALIGN="LEFT"> (7,1) </TD></TR> 
<TR><TD ALIGN="LEFT">  
(0,3,0)</TD><TD ALIGN="LEFT"><font face="sans-serif"> MPI_DIMS_CREATE</font><tt>(6, 3, dims)</tt></TD><TD ALIGN="LEFT"> (2,3,1) </TD></TR> 
<TR><TD ALIGN="LEFT">  
(0,3,0)</TD><TD ALIGN="LEFT"><font face="sans-serif"> MPI_DIMS_CREATE</font><tt>(7, 3, dims)</tt></TD><TD ALIGN="LEFT"> erroneous call </TD></TR> 
<TR><TD colspan="3" style="border-top:solid 1px;margin:0 0 0 0"></TD></TR> 
</TABLE> 
</div>  
  
<P> 

<P>
<hr>
<a href="node226.htm#Node226"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node225.htm#Node225"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node228.htm#Node228"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node225.htm#Node225"> Topology Constructors</a>
<b>Next: </b><a href="node228.htm#Node228"> Graph Constructor</a>
<b>Previous: </b><a href="node226.htm#Node226"> Cartesian Constructor</a>
<p>
<HR>
Return to <A HREF="node627.htm">MPI-5.0 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-5.0 of June 9, 2025<BR>
HTML Generated on March 2, 2025
</FONT>
</body>
</html>
