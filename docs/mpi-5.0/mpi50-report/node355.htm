<!DOCTYPE html>
<html lang=en>
<head>
<!-- This file was generated by tohtml from chap-io/io-2-rendered -->
<!-- with the command
tohtml -default -numbers -dosnl -htables -quietlatex -allgif -endpage mpi5-forum-tail.htm -Wnoredef --mpidoc --latexpgm pdflatex --indexfile mpi50-report-html.idx --lstlisting -basedef mpi5defs.txt -o mpi50-report.tex mpi-reporthtml.tex 
-->
<title>Closing a File</title>
</head>
<body style="background-color:#FFFFFF">
<hr><h2><span id="Node355">15.2.2. Closing a File</span></h2>
<a href="node354.htm#Node354"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node353.htm#Node353"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node356.htm#Node356"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node353.htm#Node353"> File Manipulation</a>
<b>Next: </b><a href="node356.htm#Node356"> Deleting a File</a>
<b>Previous: </b><a href="node354.htm#Node354"> Opening a File</a>
<p>
  
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_FILE_CLOSE(<span style="white-space:nowrap">fh</span>)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> INOUT</span> fh</TD><TD>file handle (handle)</TD></TR>  
</TABLE>  
  <b> C binding</b><br>  <tt> int MPI_File_close(MPI_File *fh) <br></tt>  
  <b> Fortran 2008 binding</b><br>  <tt> MPI_File_close(fh, ierror) <br> TYPE(MPI_File), INTENT(INOUT) :: <span style="white-space:nowrap">fh</span><br>INTEGER, OPTIONAL, INTENT(OUT) :: <span style="white-space:nowrap">ierror</span> <br></tt>  
  <b> Fortran binding</b><br>  <tt> MPI_FILE_CLOSE(FH, IERROR) <br> <br>INTEGER <span style="white-space:nowrap">FH</span>, <span style="white-space:nowrap">IERROR</span> <br></tt>  
<P> 
<font face="sans-serif"> MPI_FILE_CLOSE</font> first synchronizes file state  
(equivalent to performing an <font face="sans-serif"> MPI_FILE_SYNC</font>),  
then closes the file associated with <font face="sans-serif"> fh</font>.  
The file is deleted if it was opened with access mode  
<font face="sans-serif"> MPI_MODE_DELETE_ON_CLOSE</font>  
(equivalent to performing an <font face="sans-serif"> MPI_FILE_DELETE</font>).  
<font face="sans-serif"> MPI_FILE_CLOSE</font> is a collective routine over the group associated with the file.  
<P> 
 
<br> 
<em> Advice to users.</em>  
<P> 
If the file is deleted on close, and there are  
other processes currently accessing the file,  
the status of the file and the behavior of future accesses  
by these processes are implementation dependent.  
 (<em> End of advice to users.</em>) <br> 
The user is responsible for ensuring that all outstanding  
nonblocking requests and split collective  
operations associated with <font face="sans-serif"> fh</font>  
made by a process have completed  
before that process calls <font face="sans-serif"> MPI_FILE_CLOSE</font>.  
<P> 
The <font face="sans-serif"> MPI_FILE_CLOSE</font> routine deallocates the file handle object  
and sets <font face="sans-serif"> fh</font> to <font face="sans-serif"> MPI_FILE_NULL</font>.  
<P> 

<P>
<hr>
<a href="node354.htm#Node354"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node353.htm#Node353"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node356.htm#Node356"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node353.htm#Node353"> File Manipulation</a>
<b>Next: </b><a href="node356.htm#Node356"> Deleting a File</a>
<b>Previous: </b><a href="node354.htm#Node354"> Opening a File</a>
<p>
<HR>
Return to <A HREF="node627.htm">MPI-5.0 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-5.0 of June 9, 2025<BR>
HTML Generated on March 2, 2025
</FONT>
</body>
</html>
