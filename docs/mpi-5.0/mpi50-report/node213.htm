<!DOCTYPE html>
<html lang=en>
<head>
<!-- This file was generated by tohtml from chap-context/context-rendered -->
<!-- with the command
tohtml -default -numbers -dosnl -htables -quietlatex -allgif -endpage mpi5-forum-tail.htm -Wnoredef --mpidoc --latexpgm pdflatex --indexfile mpi50-report-html.idx --lstlisting -basedef mpi5defs.txt -o mpi50-report.tex mpi-reporthtml.tex 
-->
<title>Naming Objects</title>
</head>
<body style="background-color:#FFFFFF">
<hr><h1><span id="Node213">8.8. Naming Objects</span></h1>
<a href="node212.htm#Node212"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node175.htm#Node175"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node214.htm#Node214"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node175.htm#Node175"> Groups, Contexts, Communicators, and Caching</a>
<b>Next: </b><a href="node214.htm#Node214"> Formalizing the Loosely Synchronous Model</a>
<b>Previous: </b><a href="node212.htm#Node212"> Attributes Example</a>
<p>
  
  
<P> 
There are many occasions on which it would be useful to allow a user  
to associate a printable identifier with an <font face="sans-serif"> MPI</font> communicator, window, or  
datatype, for instance error reporting, debugging, and profiling.  
The names attached to opaque objects do not propagate when the object  
is duplicated or copied by <font face="sans-serif"> MPI</font> routines.  
For communicators this can be achieved using the following two  
functions.  
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_COMM_SET_NAME(<span style="white-space:nowrap">comm</span>, <span style="white-space:nowrap">comm_name</span>)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> INOUT</span> comm</TD><TD>communicator whose identifier is to be set (handle)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> IN</span> comm_name</TD><TD>the character string that is remembered as the name (string)</TD></TR>  
</TABLE>  
  <b> C binding</b><br>  <tt> int MPI_Comm_set_name(MPI_Comm comm, const char *comm_name) <br></tt>  
  <b> Fortran 2008 binding</b><br>  <tt> MPI_Comm_set_name(comm, comm_name, ierror) <br> TYPE(MPI_Comm), INTENT(IN) :: <span style="white-space:nowrap">comm</span><br>CHARACTER(LEN=*), INTENT(IN) :: <span style="white-space:nowrap">comm_name</span><br>INTEGER, OPTIONAL, INTENT(OUT) :: <span style="white-space:nowrap">ierror</span> <br></tt>  
  <b> Fortran binding</b><br>  <tt> MPI_COMM_SET_NAME(COMM, COMM_NAME, IERROR) <br> INTEGER <span style="white-space:nowrap">COMM</span>, <span style="white-space:nowrap">IERROR</span><br>CHARACTER*(*) <span style="white-space:nowrap">COMM_NAME</span> <br></tt>  
<P> 
<font face="sans-serif"> MPI_COMM_SET_NAME</font> allows a user to associate a name  
string with a communicator. The character string that is passed to  
<font face="sans-serif"> MPI_COMM_SET_NAME</font> will be saved inside the <font face="sans-serif"> MPI</font>  
library (so it can be freed by the caller immediately after the call, or  
allocated on the stack).  
Leading spaces in <font face="sans-serif"> name</font> are  
significant but trailing ones are not.  
<P> 
<font face="sans-serif"> MPI_COMM_SET_NAME</font> is a local (noncollective) operation,  
which only affects the name of the communicator as seen in the <font face="sans-serif"> MPI</font> process  
that made the <font face="sans-serif"> MPI_COMM_SET_NAME</font> call. There is no  
requirement that the same (or any) name be assigned to a communicator  
in every <font face="sans-serif"> MPI</font> process where it exists.  
<P> 
 
<br> 
<em> Advice to users.</em>  
<P> 
Since <font face="sans-serif"> MPI_COMM_SET_NAME</font> is provided to help debug code, it  
is sensible to give the same name to a communicator in all of the  
<font face="sans-serif"> MPI</font> processes where it exists, to avoid confusion.  
 (<em> End of advice to users.</em>) <br> 
The length of the name that can be stored is limited to the value of  
<font face="sans-serif"> MPI_MAX_OBJECT_NAME</font> in Fortran and  
<font face="sans-serif"> MPI_MAX_OBJECT_NAME</font>-1 in C to allow for the null terminator.  
Attempts to put names longer than this  
will result in truncation of the name.  
<font face="sans-serif"> MPI_MAX_OBJECT_NAME</font> must have a value of at least 64.  
<P> 
 
<br> 
<em> Advice to users.</em>  
<P> 
Under circumstances of store exhaustion an attempt to put a  
name of any length could fail, therefore the value of  
<font face="sans-serif"> MPI_MAX_OBJECT_NAME</font> should be viewed only as a strict upper  
bound on the name length, not a guarantee that setting names of less  
than this length will always succeed.  
 (<em> End of advice to users.</em>) <br> 
 
<br> 
<em> Advice  
        to implementors.</em>  
<P> 
Implementations that pre-allocate a fixed size space for a name  
should use the length of that allocation as the value of  
<font face="sans-serif"> MPI_MAX_OBJECT_NAME</font>.  
Implementations that allocate space for the name from the heap should  
still define <font face="sans-serif"> MPI_MAX_OBJECT_NAME</font> to be a relatively small  
value, since the user has to allocate space for a string of up to this  
size when calling <font face="sans-serif"> MPI_COMM_GET_NAME</font>.  
 (<em> End of advice to implementors.</em>) <br> 
<TABLE><TR><TD COLSPAN=2>MPI_COMM_GET_NAME(<span style="white-space:nowrap">comm</span>, <span style="white-space:nowrap">comm_name</span>, <span style="white-space:nowrap">resultlen</span>)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> IN</span> comm</TD><TD>communicator whose name is to be returned (handle)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> OUT</span> comm_name</TD><TD>the name previously stored on the communicator, or an empty string if no such name exists (string)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> OUT</span> resultlen</TD><TD>length of returned name (integer)</TD></TR>  
</TABLE>  
  <b> C binding</b><br>  <tt> int MPI_Comm_get_name(MPI_Comm comm, char *comm_name, int *resultlen) <br></tt>  
  <b> Fortran 2008 binding</b><br>  <tt> MPI_Comm_get_name(comm, comm_name, resultlen, ierror) <br> TYPE(MPI_Comm), INTENT(IN) :: <span style="white-space:nowrap">comm</span><br>CHARACTER(LEN=MPI_MAX_OBJECT_NAME), INTENT(OUT) :: <span style="white-space:nowrap">comm_name</span><br>INTEGER, INTENT(OUT) :: <span style="white-space:nowrap">resultlen</span><br>INTEGER, OPTIONAL, INTENT(OUT) :: <span style="white-space:nowrap">ierror</span> <br></tt>  
  <b> Fortran binding</b><br>  <tt> MPI_COMM_GET_NAME(COMM, COMM_NAME, RESULTLEN, IERROR) <br> INTEGER <span style="white-space:nowrap">COMM</span>, <span style="white-space:nowrap">RESULTLEN</span>, <span style="white-space:nowrap">IERROR</span><br>CHARACTER*(*) <span style="white-space:nowrap">COMM_NAME</span> <br></tt>  
<P> 
<font face="sans-serif"> MPI_COMM_GET_NAME</font> returns the last name that has previously been  
associated with the given communicator. The name may be set and retrieved  
from any language. The same name will be returned independent of the  
language used.  
<font face="sans-serif"> comm_name</font> should be allocated so that it can hold a resulting string  
of length <font face="sans-serif"> MPI_MAX_OBJECT_NAME</font> characters.  
<font face="sans-serif"> MPI_COMM_GET_NAME</font>  
returns a copy of the set name in <font face="sans-serif"> comm_name</font>.  
 <P> 
In C, a null character is additionally stored at <font face="sans-serif"> comm_name[resultlen]</font>.  
The value of <font face="sans-serif"> resultlen</font> cannot be larger than  
<font face="sans-serif"> MPI_MAX_OBJECT_NAME</font>-1.  
In Fortran, <font face="sans-serif"> comm_name</font> is padded on the right with blank characters.  
The value of <font face="sans-serif"> resultlen</font> cannot be larger than  
<font face="sans-serif"> MPI_MAX_OBJECT_NAME</font>.  
<P> 
If the user has not associated a name with a communicator, or an error  
occurs, <font face="sans-serif"> MPI_COMM_GET_NAME</font> will return an empty string (all  
spaces in Fortran, <tt>""</tt> in C). The three predefined  
communicators will have predefined names associated with them.  
Thus, the names of <font face="sans-serif"> MPI_COMM_WORLD</font>, <font face="sans-serif"> MPI_COMM_SELF</font>, and  
the communicator returned by <font face="sans-serif"> MPI_COMM_GET_PARENT</font>  
(if not <font face="sans-serif"> MPI_COMM_NULL</font>)  
will have the default of <font face="sans-serif"> <span style="font-size:0.900em;"><tt>"</span></tt>MPI_COMM_WORLD<span style="font-size:0.900em;"><tt>"</span></tt></font>, <font face="sans-serif"> <span style="font-size:0.900em;"><tt>"</span></tt>MPI_COMM_SELF<span style="font-size:0.900em;"><tt>"</span></tt></font>, and <font face="sans-serif"> <span style="font-size:0.900em;"><tt>"</span></tt>MPI_COMM_PARENT<span style="font-size:0.900em;"><tt>"</span></tt></font>.  
Passing <font face="sans-serif"> MPI_COMM_NULL</font> as <font face="sans-serif"> comm</font> will return the string  
<font face="sans-serif"> <span style="font-size:0.900em;"><tt>"</span></tt>MPI_COMM_NULL<span style="font-size:0.900em;"><tt>"</span></tt></font>.  
The fact that the system may have chosen to give a default name to a  
communicator does not prevent the user from setting a name on the same  
communicator; doing this removes the old name and assigns the new one.  
<P> 
 
<br> 
<em> Rationale.</em>  
<P> 
We provide separate functions for setting and getting the name of a  
communicator, rather than simply providing a predefined attribute key  
for the following reasons:  
<ul> 
 
<li>It is not, in general, possible to store a string as an attribute  
from Fortran.  
<P> 
 
<li>It is not easy to set up the delete function for a string  
attribute unless it is known to have been allocated from the heap.  
<P> 
 
<li>To make the attribute key useful additional code to call  
<tt>strdup</tt> is necessary. If this is not standardized then users have  
to write it. This is extra unneeded work that we can easily  
eliminate.  
<P> 
 
<li>The Fortran binding is not trivial to write (it will depend on  
details of the Fortran compilation system), and will not be  
portable. Therefore it should be in the library rather than in user  
code.  
</ul> 
<br> 
 (<em> End of rationale.</em>) <br> 
 
<br> 
<em> Advice to users.</em>  
<P> 
The above definition means that it is safe simply to print the string  
returned by <font face="sans-serif"> MPI_COMM_GET_NAME</font>, as it is always a valid  
string even if there was no name.  
<P> 
Note that associating a name with a communicator has no effect on the  
semantics of an <font face="sans-serif"> MPI</font> program, and will (necessarily)  
increase the store requirement of the program, since the names must be  
saved. Therefore there is no requirement that users use these functions to  
associate names with  
communicators. However debugging and profiling <font face="sans-serif"> MPI</font> applications may be made  
easier if names are associated with communicators,  
since the debugger or profiler should then be able to present  
information in a less cryptic manner.  
 (<em> End of advice to users.</em>) <br> 
The following functions are used for setting and getting names of datatypes.  
The constant <font face="sans-serif"> MPI_MAX_OBJECT_NAME</font> also applies to these names.  
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_TYPE_SET_NAME(<span style="white-space:nowrap">datatype</span>, <span style="white-space:nowrap">type_name</span>)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> INOUT</span> datatype</TD><TD>datatype whose identifier is to be set (handle)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> IN</span> type_name</TD><TD>the character string that is remembered as the name (string)</TD></TR>  
</TABLE>  
  <b> C binding</b><br>  <tt> int MPI_Type_set_name(MPI_Datatype datatype, const char *type_name) <br></tt>  
  <b> Fortran 2008 binding</b><br>  <tt> MPI_Type_set_name(datatype, type_name, ierror) <br> TYPE(MPI_Datatype), INTENT(IN) :: <span style="white-space:nowrap">datatype</span><br>CHARACTER(LEN=*), INTENT(IN) :: <span style="white-space:nowrap">type_name</span><br>INTEGER, OPTIONAL, INTENT(OUT) :: <span style="white-space:nowrap">ierror</span> <br></tt>  
  <b> Fortran binding</b><br>  <tt> MPI_TYPE_SET_NAME(DATATYPE, TYPE_NAME, IERROR) <br> INTEGER <span style="white-space:nowrap">DATATYPE</span>, <span style="white-space:nowrap">IERROR</span><br>CHARACTER*(*) <span style="white-space:nowrap">TYPE_NAME</span> <br></tt>  
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_TYPE_GET_NAME(<span style="white-space:nowrap">datatype</span>, <span style="white-space:nowrap">type_name</span>, <span style="white-space:nowrap">resultlen</span>)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> IN</span> datatype</TD><TD>datatype whose name is to be returned (handle)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> OUT</span> type_name</TD><TD>the name previously stored on the datatype, or an empty string if no such name exists (string)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> OUT</span> resultlen</TD><TD>length of returned name (integer)</TD></TR>  
</TABLE>  
  <b> C binding</b><br>  <tt> int MPI_Type_get_name(MPI_Datatype datatype, char *type_name, int *resultlen) <br></tt>  
  <b> Fortran 2008 binding</b><br>  <tt> MPI_Type_get_name(datatype, type_name, resultlen, ierror) <br> TYPE(MPI_Datatype), INTENT(IN) :: <span style="white-space:nowrap">datatype</span><br>CHARACTER(LEN=MPI_MAX_OBJECT_NAME), INTENT(OUT) :: <span style="white-space:nowrap">type_name</span><br>INTEGER, INTENT(OUT) :: <span style="white-space:nowrap">resultlen</span><br>INTEGER, OPTIONAL, INTENT(OUT) :: <span style="white-space:nowrap">ierror</span> <br></tt>  
  <b> Fortran binding</b><br>  <tt> MPI_TYPE_GET_NAME(DATATYPE, TYPE_NAME, RESULTLEN, IERROR) <br> INTEGER <span style="white-space:nowrap">DATATYPE</span>, <span style="white-space:nowrap">RESULTLEN</span>, <span style="white-space:nowrap">IERROR</span><br>CHARACTER*(*) <span style="white-space:nowrap">TYPE_NAME</span> <br></tt>  
<P> 
Named predefined datatypes have the default names of the datatype name.  
For example, <font face="sans-serif"> MPI_WCHAR</font> has the default name of  
<font face="sans-serif"> <span style="font-size:0.900em;"><tt>"</span></tt>MPI_WCHAR<span style="font-size:0.900em;"><tt>"</span></tt></font>.  
Passing <font face="sans-serif"> MPI_DATATYPE_NULL</font> as <font face="sans-serif"> datatype</font> will return the string  
<font face="sans-serif"> <span style="font-size:0.900em;"><tt>"</span></tt>MPI_DATATYPE_NULL<span style="font-size:0.900em;"><tt>"</span></tt></font>.  
<P> 
The following functions are used for setting and getting names of windows.  
The constant <font face="sans-serif"> MPI_MAX_OBJECT_NAME</font> also applies to these names.  
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_WIN_SET_NAME(<span style="white-space:nowrap">win</span>, <span style="white-space:nowrap">win_name</span>)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> INOUT</span> win</TD><TD>window whose identifier is to be set (handle)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> IN</span> win_name</TD><TD>the character string that is remembered as the name (string)</TD></TR>  
</TABLE>  
  <b> C binding</b><br>  <tt> int MPI_Win_set_name(MPI_Win win, const char *win_name) <br></tt>  
  <b> Fortran 2008 binding</b><br>  <tt> MPI_Win_set_name(win, win_name, ierror) <br> TYPE(MPI_Win), INTENT(IN) :: <span style="white-space:nowrap">win</span><br>CHARACTER(LEN=*), INTENT(IN) :: <span style="white-space:nowrap">win_name</span><br>INTEGER, OPTIONAL, INTENT(OUT) :: <span style="white-space:nowrap">ierror</span> <br></tt>  
  <b> Fortran binding</b><br>  <tt> MPI_WIN_SET_NAME(WIN, WIN_NAME, IERROR) <br> INTEGER <span style="white-space:nowrap">WIN</span>, <span style="white-space:nowrap">IERROR</span><br>CHARACTER*(*) <span style="white-space:nowrap">WIN_NAME</span> <br></tt>  
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_WIN_GET_NAME(<span style="white-space:nowrap">win</span>, <span style="white-space:nowrap">win_name</span>, <span style="white-space:nowrap">resultlen</span>)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> IN</span> win</TD><TD>window whose name is to be returned (handle)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> OUT</span> win_name</TD><TD>the name previously stored on the window, or an empty string if no such name exists (string)</TD></TR>  
<TR><TD><span style="font-size:0.900em;"> OUT</span> resultlen</TD><TD>length of returned name (integer)</TD></TR>  
</TABLE>  
  <b> C binding</b><br>  <tt> int MPI_Win_get_name(MPI_Win win, char *win_name, int *resultlen) <br></tt>  
  <b> Fortran 2008 binding</b><br>  <tt> MPI_Win_get_name(win, win_name, resultlen, ierror) <br> TYPE(MPI_Win), INTENT(IN) :: <span style="white-space:nowrap">win</span><br>CHARACTER(LEN=MPI_MAX_OBJECT_NAME), INTENT(OUT) :: <span style="white-space:nowrap">win_name</span><br>INTEGER, INTENT(OUT) :: <span style="white-space:nowrap">resultlen</span><br>INTEGER, OPTIONAL, INTENT(OUT) :: <span style="white-space:nowrap">ierror</span> <br></tt>  
  <b> Fortran binding</b><br>  <tt> MPI_WIN_GET_NAME(WIN, WIN_NAME, RESULTLEN, IERROR) <br> INTEGER <span style="white-space:nowrap">WIN</span>, <span style="white-space:nowrap">RESULTLEN</span>, <span style="white-space:nowrap">IERROR</span><br>CHARACTER*(*) <span style="white-space:nowrap">WIN_NAME</span> <br></tt>  
<P> 
Passing <font face="sans-serif"> MPI_WIN_NULL</font> as <font face="sans-serif"> win</font> will  
return the string <font face="sans-serif"> <span style="font-size:0.900em;"><tt>"</span></tt>MPI_WIN_NULL<span style="font-size:0.900em;"><tt>"</span></tt></font>.  
<P> 

<P>
<hr>
<a href="node212.htm#Node212"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node175.htm#Node175"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node214.htm#Node214"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node175.htm#Node175"> Groups, Contexts, Communicators, and Caching</a>
<b>Next: </b><a href="node214.htm#Node214"> Formalizing the Loosely Synchronous Model</a>
<b>Previous: </b><a href="node212.htm#Node212"> Attributes Example</a>
<p>
<HR>
Return to <A HREF="node627.htm">MPI-5.0 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-5.0 of June 9, 2025<BR>
HTML Generated on March 2, 2025
</FONT>
</body>
</html>
